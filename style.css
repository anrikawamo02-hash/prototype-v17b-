@import url("https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,700;0,800;1,700;1,800&display=swap");

:root{
  --nav:#0b3a5a; --bg:#f3f4f6; --card:#fff; --text:#0f172a; --muted:#64748b; --border:#e5e7eb;
  --shadow:0 10px 24px rgba(0,0,0,.08); --radius:18px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans JP",Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
}
.app{
  max-width:420px;
  margin:18px auto 40px;
  background:var(--bg);
  border-radius:28px;
  overflow:hidden;
  box-shadow:var(--shadow);
  border:1px solid rgba(0,0,0,.06);
}
.topbar{
  background:var(--nav);
  color:#fff;
  padding:14px 12px;
  display:flex;
  align-items:center;
  gap:10px;
}
.back{
  min-width:40px;height:34px;
  border-radius:10px;
  display:grid;place-items:center;
  border:1px solid rgba(255,255,255,.25);
  color:#fff;
  font-weight:900;
  text-decoration:none;
}
.back-spacer{
  min-width:40px;height:34px;
}
.titles .t{font-weight:900;font-size:16px;line-height:1.2;}
.titles .s{font-size:12px;opacity:.9;margin-top:2px;}
.screen{padding:14px;min-height:680px;}
.list{display:flex;flex-direction:column;gap:12px;margin-top:10px;}

.btn{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:16px 14px;
  box-shadow:0 8px 16px rgba(0,0,0,.05);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  text-decoration:none;
  color:inherit;
}
.btn .jp{font-weight:900;font-size:16px;}
.btn .en{font-size:13px;color:var(--muted);font-weight:800;margin-top:4px;}
.chev{color:#94a3b8;font-weight:900;font-size:20px;}

.roomBtn{align-items:center;}
.roomIcon{
  width:44px;height:44px;border-radius:14px;
  background:#eef2f7;border:1px solid #e7ebf3;
  display:grid;place-items:center;font-size:22px;flex:0 0 auto;
}
.roomMid{flex:1; min-width:0;}

/* Top row in each room card: Japanese title + floor tag (pill) */
.roomTop{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:0;
}

.roomTop .jp{
  white-space:nowrap;
}
.roomTag{
  font-size:11px;color:#0f172a;
  background:#eef2ff;border:1px solid #e0e7ff;
  padding:6px 10px;border-radius:999px;font-weight:900;
  white-space:nowrap;
}
.roomRight{display:flex;align-items:center;gap:10px;flex:0 0 auto;}

.icon{
  width:44px;height:44px;border-radius:14px;
  background:#eef2f7;border:1px solid #e7ebf3;
  display:grid;place-items:center;font-size:22px;flex:0 0 auto;
}
.cat{display:flex;align-items:center;gap:12px; min-width:0;}
.cat > div{min-width:0;}
.badge{
  font-size:11px;
  color:#7c2d12;
  background:#fff7ed;
  border:1px solid #ffedd5;
  padding:6px 10px;
  border-radius:999px;
  font-weight:900;
  white-space:nowrap;
}

/* pages via hash (Safari-safe) */
.page{display:none;}
.page:target{display:block;}
/* default home when no hash OR hash points to nowhere: show p1 */
body:not(:has(:target)) #p1{display:block;}


/* gallery */
.galleryWrap{
  margin-top:10px;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:22px;
  overflow:hidden;
  box-shadow:0 10px 22px rgba(0,0,0,.06);
  position:relative;
}
.scroller{
  display:flex;
  overflow-x:auto;
  scroll-snap-type:x mandatory;
  height:460px;
  -webkit-overflow-scrolling:touch;
  background:#000;
}
.slide{
  flex:0 0 100%;
  scroll-snap-align:center;
  display:flex;
  align-items:center;
  justify-content:center;
}
.slide div{
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  color:white;
  font-size:32px;
  font-weight:900;
  background:#333;
}
.counter{
  position:absolute;
  right:10px;
  bottom:10px;
  background:rgba(17,24,39,.65);
  color:#fff;
  font-weight:900;
  font-size:12px;
  padding:7px 10px;
  border-radius:999px;
}
.note{
  margin-top:10px;
  font-size:12px;
  color:var(--muted);
  font-weight:800;
}

a{ -webkit-tap-highlight-color: rgba(0,0,0,0); }



/* ===== Custom (User) : P1 room buttons powder-pink ONLY ===== */
html[data-page="index"] .btn.roomBtn{background:#F5ECF4;}
html[data-page="index"] .roomIcon{background:#fff;border:1px solid var(--border);}
html[data-page="index"] .roomTag{background:#fff;border:1px solid var(--border);color:var(--text);}


/* ===== Custom (User) : P1 card tap interaction (strong press feel) ===== */
html[data-page="index"] .btn.roomBtn{
  position:relative;
  overflow:hidden;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  transition: transform 150ms ease, box-shadow 150ms ease, filter 150ms ease;
}
html[data-page="index"] .btn.roomBtn::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  background:rgba(15,23,42,.24);
  opacity:0;
  transition: opacity 120ms ease;
  pointer-events:none;
}
html[data-page="index"] .btn.roomBtn:active,
html[data-page="index"] .btn.roomBtn.is-pressing{
  transform: translateY(4px) scale(.955);
  box-shadow: 0 4px 10px rgba(0,0,0,.16);
  filter: brightness(.9);
}
html[data-page="index"] .btn.roomBtn:active::after,
html[data-page="index"] .btn.roomBtn.is-pressing::after{
  opacity:.28;
}

/* ===== Custom (User) : P1 shadow polish ===== */
/* Slightly cleaner shadow on P1 only (keeps same vibe, a bit more premium) */
html[data-page="index"] .btn.roomBtn{
  box-shadow: 0 10px 22px rgba(0,0,0,.08);
}

/* Floating crab mascot (Category page only) */
html[data-page="category"] .floating-crab {
  position: fixed;
  bottom: calc(40px + env(safe-area-inset-bottom));
  right: 32px;
  width: 200px;
  height: auto;
  pointer-events: none;
  z-index: 10;
}

/* Safety: never render fixed crab on index */
html[data-page="index"] .floating-crab{
  display:none !important;
}

/* Index: place crab below last card (non-fixed, no overlap) */
html[data-page="index"] .crab-under-last-wrap{
  display:flex;
  justify-content:center;
  margin-top:8px;
  margin-bottom:2px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  position:relative;
  z-index:1;
}

html[data-page="index"] .crab-under-last{
  width: clamp(120px, 34vw, 190px);
  max-width: 56%;
  height:auto;
  display:block;
  pointer-events:none;
  user-select:none;
  -webkit-user-drag:none;
}


html{ -webkit-text-size-adjust: auto; }


/* Classic number style (digits only) */
.antique-num{
  font-family: "Cormorant Garamond","Times New Roman",serif;
  font-style: italic;
  font-weight: 800;
  letter-spacing: .01em;
  font-variant-numeric: lining-nums;
  display:inline-block;
}
/* Keep card text weights stable on iPhone/Safari */
html[data-page="index"] .btn .jp{font-weight:900;}
html[data-page="index"] .btn .en{font-weight:800;}
html[data-page="index"] .roomTag{font-weight:900;}
